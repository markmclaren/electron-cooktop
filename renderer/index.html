<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML Cooktop - Cross-Platform XML Editor</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.min.css">
</head>
<body>
    <div id="app">
        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Always-visible vertical sidebar -->
            <div class="activity-bar" id="activity-bar">
                <button id="btn-toggle-sidebar" class="btn-icon activity-toggle" title="Toggle Code Bits">‚óÄ</button>
                <!-- You can add more icons/buttons here for future navigation -->
            </div>
            <!-- Sidebar for Code Bits (Templates) -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3>Code Bits</h3>
                </div>
                <!-- Template Library -->
                <div class="panel">
                    <div class="panel-content">
                        <div id="template-tree" class="template-tree">
                            <div class="loading">Loading templates...</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content Area - The "Cooktop" -->
            <div class="main-content">
                <!-- Toolbar -->
                <div class="toolbar">
                    <div class="toolbar-group">
                        <button id="btn-new" class="btn" title="New (Ctrl+N)">New</button>
                        <button id="btn-open" class="btn" title="Open (Ctrl+O)">Open</button>
                        <button id="btn-save" class="btn" title="Save (Ctrl+S)">Save</button>
                        <button id="btn-save-as" class="btn" title="Save As">Save As</button>
                    </div>
                    <div class="toolbar-separator"></div>
                    <div class="toolbar-group">
                        <button id="btn-format" class="btn" title="Format XML (F8)">Format XML</button>
                        <button id="btn-validate" class="btn" title="Validate (F7)">Validate</button>
                    </div>
                    <div class="toolbar-separator"></div>
                    <div class="toolbar-group">
                        <button id="btn-run-xslt" class="btn btn-primary" title="Run XSLT (F5)">Run XSLT</button>
                        <button id="btn-run-xslt-save" class="btn" title="Run XSLT and save to file">Run XSLT and save to file...</button>
                    </div>
                </div>
                
                <!-- Cooktop Panes Container -->
                <div class="cooktop-container">
                    <!-- Cooktop Tab Bar -->
                    <div class="cooktop-tabs" id="cooktop-tabs">
                        <div class="cooktop-tab active" data-pane="source">
                            <span class="tab-icon">üìÑ</span>
                            <span class="tab-label">source (xml)</span>
                        </div>
                        <div class="cooktop-tab" data-pane="xpath">
                            <span class="tab-icon">üîç</span>
                            <span class="tab-label">xpath console</span>
                        </div>
                        <div class="cooktop-tab" data-pane="stylesheet">
                            <span class="tab-icon">üé®</span>
                            <span class="tab-label">stylesheet(xsl)</span>
                        </div>
                        <div class="cooktop-tab" data-pane="result">
                            <span class="tab-icon">üìã</span>
                            <span class="tab-label">result</span>
                        </div>
                        <div class="cooktop-tab" data-pane="result-html">
                            <span class="tab-icon">üåê</span>
                            <span class="tab-label">result(html)</span>
                        </div>
                    </div>

                    <!-- Cooktop Panes -->
                    <div class="cooktop-panes" id="cooktop-panes">
                        
                        <!-- Source XML Pane -->
                        <div class="cooktop-pane" id="pane-source" data-pane="source">
                            <div class="pane-content">
                                <div id="editor-source" class="monaco-editor-container"></div>
                            </div>
                            <div class="pane-footer">
                                <span class="pane-title">Source XML</span>
                                <div class="pane-controls">
                                    <button class="btn-icon" title="Open XML file">üìÅ</button>
                                    <button class="btn-icon" title="Save XML">üíæ</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- XPath Console Pane -->
                        <div class="cooktop-pane" id="pane-xpath" data-pane="xpath">
                            <div class="pane-content">
                                <div class="xpath-input-area">
                                    <input type="text" id="xpath-input" placeholder="Enter XPath expression (e.g., //book[@id='1']/title)" />
                                    <button id="btn-execute-xpath" class="btn btn-small">Execute</button>
                                </div>
                                <div id="xpath-output" class="xpath-output"></div>
                            </div>
                            <div class="pane-footer">
                                <span class="pane-title">XPath Console</span>
                                <div class="pane-controls">
                                    <button id="btn-clear-xpath" class="btn-icon" title="Clear console">üóëÔ∏è</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stylesheet XSL Pane -->
                        <div class="cooktop-pane" id="pane-stylesheet" data-pane="stylesheet">
                            <div class="pane-content">
                                <div id="editor-stylesheet" class="monaco-editor-container"></div>
                            </div>
                            <div class="pane-footer">
                                <span class="pane-title">Stylesheet (XSL)</span>
                                <div class="pane-controls">
                                    <button class="btn-icon" title="Open XSL file">üìÅ</button>
                                    <button class="btn-icon" title="Save XSL">üíæ</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Result XML Pane -->
                        <div class="cooktop-pane" id="pane-result" data-pane="result">
                            <div class="pane-content">
                                <div id="editor-result" class="monaco-editor-container"></div>
                            </div>
                            <div class="pane-footer">
                                <span class="pane-title">Result</span>
                                <div class="pane-controls">
                                    <button class="btn-icon" title="Save result">üíæ</button>
                                    <button class="btn-icon" title="Copy result">üìã</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Result HTML Pane -->
                        <div class="cooktop-pane" id="pane-result-html" data-pane="result-html">
                            <div class="pane-content">
                                <iframe id="html-preview" class="html-preview" sandbox="allow-same-origin"></iframe>
                            </div>
                            <div class="pane-footer">
                                <span class="pane-title">Result (HTML)</span>
                                <div class="pane-controls">
                                    <button class="btn-icon" title="Open in browser">üåê</button>
                                    <button class="btn-icon" title="Save HTML">üíæ</button>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    
                </div>
            </div>
        </div>
        
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span id="status-file">Ready</span>
            </div>
            <div class="status-right">
                <span id="status-engine">XSLT: JavaScript</span>
                <span id="status-position">Ln 1, Col 1</span>
                <span id="status-language">XML</span>
            </div>
        </div>
    </div>
    
    <!-- Context Menus -->
    <div id="context-menu" class="context-menu" style="display: none;">
        <div class="context-menu-item" data-action="insert-template">Insert Template</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="copy-xpath">Copy XPath</div>
        <div class="context-menu-item" data-action="evaluate-xpath">Evaluate XPath</div>
    </div>
    
    <!-- Modal Dialogs -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Dialog</h3>
                <button id="modal-close" class="btn-icon">√ó</button>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- Dynamic content -->
            </div>
            <div class="modal-footer">
                <button id="modal-ok" class="btn btn-primary">OK</button>
            </div>
        </div>
    </div>
    
    <!-- Welcome Screen (shown when no files are loaded) -->
    <div id="welcome-overlay" class="welcome-overlay" style="display: none;">
        <div class="welcome-content">
            <h1>XML Cooktop</h1>
            <p>A modern, cross-platform XML editor and XSLT processor</p>
            <div class="welcome-actions">
                <button id="btn-welcome-new" class="btn btn-primary">New XML Document</button>
                <button id="btn-welcome-open" class="btn">Open Existing File</button>
                <button id="btn-welcome-sample" class="btn">Load Sample Data</button>
            </div>
            <div class="welcome-features">
                <div class="feature">
                    <h3>Multi-Pane Interface</h3>
                    <p>Edit XML and XSL side by side with live preview</p>
                </div>
                <div class="feature">
                    <h3>XSLT Processing</h3>
                    <p>Transform XML documents with XSLT stylesheets</p>
                </div>
                <div class="feature">
                    <h3>XPath Console</h3>
                    <p>Test and debug XPath expressions interactively</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
            <script src="js/xml-formatter-bundle.dist.js"></script>
            <script src="js/cooktop.js"></script>
</body>
</html>
